<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <title>Datos en tiempo real</title>
  <style>
    body { font-family: Arial; text-align: center; padding: 20px; }
    h2 { color: #333; }
    p { font-size: 20px; }
  </style>
</head>
<body>
  <h2>ðŸ“¡ Datos en tiempo real</h2>
  <p>ðŸŒ¡ Temperatura: <span id="temp">--</span> Â°C</p>
  <p>ðŸ’§ Humedad: <span id="hum">--</span> %</p>
  <p>âš¡ Voltaje INA219: <span id="voltaje">--</span> V</p>
  <p>ðŸ”‹ Corriente INA219: <span id="corriente">--</span> A</p>
  <p>ðŸ’¡ Potencia INA219: <span id="potencia">--</span> W</p>

  <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-app.js"></script>
  <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-database.js"></script>

  <script>
   // For Firebase JS SDK v7.20.0 and later, measurementId is optional
const firebaseConfig = {
  apiKey: "AIzaSyAXRn2uoDYKDBuzcOnQ32-urVcuVtlwh3o",
  authDomain: "powermind-b092f.firebaseapp.com",
  databaseURL: "https://powermind-b092f-default-rtdb.firebaseio.com",
  projectId: "powermind-b092f",
  storageBucket: "powermind-b092f.firebasestorage.app",
  messagingSenderId: "353358193808",
  appId: "1:353358193808:web:031fa7cbb37139990f2415",
  measurementId: "G-T7DWGBN5WB"
};

    firebase.initializeApp(firebaseConfig);
    const dbRef = firebase.database().ref("arduinoData");

    dbRef.on("value", (snapshot) => {
      const data = snapshot.val();

      document.getElementById("temp").textContent = data?.temperatura ?? "--";
      document.getElementById("hum").textContent = data?.humedad ?? "--";

      // Accedemos a los datos del INA219
      document.getElementById("voltaje").textContent = data?.ina219?.voltaje ?? "--";
      document.getElementById("corriente").textContent = data?.ina219?.corriente ?? "--";
      document.getElementById("potencia").textContent = data?.ina219?.potencia ?? "--";
    });
  </script>
</body>
</html>
